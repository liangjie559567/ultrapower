# Product Strategy Review: ultrapower 全链路规范体系

> 评审人：Product Director
> 评审日期：2026-02-26
> PRD 版本：Draft v1
> 项目版本：ultrapower v5.0.21

---

## 总体评分：7 / 10

战略方向正确，规范体系是框架成熟化的必经之路。但 MVP 边界模糊、指标可验证性存疑、部分优先级排序需要调整。

---

## 1. Strategic Fit (战略匹配: High)

- Alignment: ultrapower 已迭代至 v5.0.21，拥有 49 个 agents、70 个 skills、35 个 hooks，系统复杂度已到达"规范真空"临界点。从 CHANGELOG 可见，v5.0.9~v5.0.14 的主要工作都是修复文档不一致、数量对不上、缓存嵌套等"规范缺失"导致的问题。这份 PRD 的战略时机是对的——不是超前，而是已经有点滞后。

- Differentiation: 规范体系本身不是差异化来源，但它是差异化能力（多 agent 编排）能被用户稳定使用的前提。没有规范，用户无法信任框架，贡献者无法安全扩展。

- Roadmap Fit: 与 Q1/Q2 目标高度契合。框架已从"能用"阶段进入"可靠用"阶段，规范体系是这个跃迁的基础设施。

---

## 2. Prioritization Matrix (优先级矩阵)

| 维度 | P0 运行时防护 | P1 用户使用规范 | P2 开发贡献规范 |
|------|-------------|--------------|--------------|
| Impact | 5 | 4 | 3 |
| Effort | 3 | 2 | 2 |
| Score | 1.67 | 2.00 | 1.50 |

**关键发现：P1 的 ROI 实际高于 P0。**

P0（Hook执行顺序、状态文件读写、Agent生命周期）是内部运行时规范，主要受益者是框架维护者。P1（Skill调用决策树、Agent路由规范）直接影响用户每次使用体验，且 ultrapower 的核心用户痛点恰恰是"不知道该用哪个 skill/agent"。

建议调整：P1 的 Skill 调用决策树应与 P0 并行推进，而非排在其后。

---

## 3. Success Metrics (成功指标评估)

| 指标 | 可量化性 | 问题 |
|------|---------|------|
| 并发场景覆盖率 100% | 中 | "并发场景"边界未定义，谁来认定"覆盖"？ |
| 新用户选出正确 skill ≤ 5分钟 | 高 | 需要用户测试数据，当前无基线，无法验证改善 |
| 新增 skill 检查清单覆盖 100% | 高 | 可通过 CI 门禁自动验证，这是最强的指标 |
| 三类 BUG 来源全覆盖 | 低 | "三类 BUG 来源"未在 PRD 中定义，指标悬空 |

**最强指标**：新增 skill 检查清单 100% 覆盖——可自动化验证，建议作为 Primary KPI。

**最弱指标**：三类 BUG 来源全覆盖——需要先定义这三类是什么，否则无法验证。

- Primary KPI: 新增 skill/agent/hook 的检查清单覆盖率（目标 100%，可 CI 验证）
- Secondary KPI: 用户首次选出正确 skill 的时间（需建立基线测量）

---

## 4. 战略遗漏分析

### 遗漏 1：规范的"执行机制"缺失（高优先级）
PRD 定义了规范内容，但没有说明规范如何被执行。文档规范如果没有 CI 门禁或 lint 规则支撑，会退化为"参考文档"而非"约束机制"。建议明确：哪些规范通过自动化工具强制执行，哪些依赖人工审查。

### 遗漏 2：规范的版本化策略缺失（中优先级）
ultrapower 迭代速度快（v5.0.9 到 v5.0.21 在短期内完成），规范文档如何随版本演进？没有版本化策略，规范会很快过时，反而增加混乱。

### 遗漏 3：现有反模式的来源分析缺失（中优先级）
PRD 提到"三类 BUG 来源有对应规范"，但没有基于真实 issue/bug 数据来定义这三类。从 CHANGELOG 看，实际高频问题是：缓存嵌套、文档数量不一致、plugin 发布失败。规范应从真实痛点反推，而非自上而下设计。

### 遗漏 4：用户分层缺失（低优先级）
P1 和 P2 面向不同用户群（终端用户 vs 贡献者），但 PRD 没有区分这两类用户的使用场景和需求差异，导致规范设计可能混淆受众。

---

## 5. MVP 范围评估

**当前 MVP 范围：偏大。**

三个优先级（P0/P1/P2）同时在 MVP 中，实际上是三个独立的产品交付物。真正的 MVP 应该是：

**建议 MVP（最小可验证版本）：**
- Skill 调用决策树（P1）——直接解决用户最高频痛点
- 新增 skill 标准模板 + 检查清单（P2 子集）——可立即通过 CI 验证，形成闭环

P0 的运行时规范（Hook执行顺序、状态文件读写）更适合作为内部技术文档，不需要作为用户可见的产品功能交付。

---

## Conclusion (结论)

**P1 - Should Have**（当前定级，建议调整部分范围后升为 P0）

**核心建议：**

1. 将 Skill 调用决策树从 P1 提升，与 P0 并行交付——这是用户最直接的痛点。
2. 缩小 MVP 范围：先交付"决策树 + 检查清单"，用 CI 验证覆盖率，形成可量化的第一个里程碑。
3. 补充规范执行机制：明确哪些规范通过自动化强制，哪些通过 review 流程保障。
4. 定义"三类 BUG 来源"：从 CHANGELOG 和 issue 历史中归纳，而非假设。
5. 加入规范版本化策略：与 npm 版本号绑定，确保规范不会滞后于代码。

**战略背景备注：** ultrapower 正处于从"个人工具"向"可信赖框架"演进的关键节点。规范体系是这个演进的基础设施投资，战略价值明确。但投资回报的前提是规范能被执行，而非仅被记录。
