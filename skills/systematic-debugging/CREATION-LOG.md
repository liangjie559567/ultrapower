# 创建日志：系统化调试 Skill

提取、结构化和加固关键 skill 的参考示例。

## 来源材料

从 `/Users/jesse/.claude/CLAUDE.md` 提取的调试框架：
- 4 阶段系统化流程（调查 → 模式分析 → 假设 → 实现）
- 核心要求：始终找到根本原因，绝不修复症状
- 规则设计为抵抗时间压力和合理化

## 提取决策

**包含内容：**
- 完整的 4 阶段框架及所有规则
- 反捷径语言（"绝不修复症状"、"停止并重新分析"）
- 抗压语言（"即使更快"、"即使我看起来很着急"）
- 每个阶段的具体步骤

**排除内容：**
- 项目特定上下文
- 相同规则的重复变体
- 叙述性解释（浓缩为原则）

## 遵循 skill-creation/SKILL.md 的结构

1. **丰富的 when_to_use** - 包含症状和反模式
2. **类型：技术** - 带步骤的具体流程
3. **关键词** - "根本原因"、"症状"、"变通方案"、"调试"、"调查"
4. **流程图** - "修复失败"的决策点 → 重新分析 vs 添加更多修复
5. **逐阶段分解** - 可扫描的清单格式
6. **反模式部分** - 不该做什么（此 skill 的关键）

## 加固元素

框架设计为在压力下抵抗合理化：

### 语言选择
- "始终" / "绝不"（而非"应该" / "尝试"）
- "即使更快" / "即使我看起来很着急"
- "停止并重新分析"（明确暂停）
- "不要跳过"（捕捉实际行为）

### 结构性防御
- **第 1 阶段必须** - 不能跳到实现
- **单一假设规则** - 强制思考，防止散弹枪式修复
- **明确失败模式** - "如果你的第一个修复不起作用"附强制行动
- **反模式部分** - 展示捷径的确切样子

### 冗余
- 根本原因要求出现在概述 + when_to_use + 第 1 阶段 + 实现规则中
- "绝不修复症状"在不同上下文中出现 4 次
- 每个阶段都有明确的"不要跳过"指导

## 测试方法

遵循 skills/meta/testing-skills-with-subagents 创建了 4 个验证测试：

### 测试 1：学术上下文（无压力）
- 简单 bug，无时间压力
- **结果：** 完美合规，完整调查

### 测试 2：时间压力 + 明显的快速修复
- 用户"很着急"，症状修复看起来很容易
- **结果：** 抵制了捷径，遵循完整流程，找到了真正的根本原因

### 测试 3：复杂系统 + 不确定性
- 多层失败，不清楚是否能找到根本原因
- **结果：** 系统化调查，追踪所有层，找到了来源

### 测试 4：第一次修复失败
- 假设不起作用，有添加更多修复的诱惑
- **结果：** 停止，重新分析，形成新假设（无散弹枪）

**所有测试通过。** 未发现合理化。

## 迭代

### 初始版本
- 完整的 4 阶段框架
- 反模式部分
- "修复失败"决策的流程图

### 增强 1：TDD 参考
- 添加了指向 skills/testing/test-driven-development 的链接
- 说明 TDD 的"最简代码" ≠ 调试的"根本原因"
- 防止方法论混淆

## 最终结果

加固的 skill：
- ✅ 明确要求根本原因调查
- ✅ 抵抗时间压力合理化
- ✅ 为每个阶段提供具体步骤
- ✅ 明确展示反模式
- ✅ 在多种压力场景下测试
- ✅ 阐明与 TDD 的关系
- ✅ 可以使用

## 关键洞察

**最重要的加固：** 反模式部分展示了在当下感觉合理的确切捷径。当 Claude 想"我只是添加这一个快速修复"时，看到该确切模式被列为错误会产生认知摩擦。

## 使用示例

遇到 bug 时：
1. 加载 skill：skills/debugging/systematic-debugging
2. 阅读概述（10 秒）- 提醒要求
3. 遵循第 1 阶段清单 - 强制调查
4. 如果想跳过 - 看到反模式，停止
5. 完成所有阶段 - 找到根本原因

**时间投入：** 5-10 分钟
**节省时间：** 数小时的症状打地鼠

---

*创建时间：2025-10-03*
*目的：skill 提取和加固的参考示例*
